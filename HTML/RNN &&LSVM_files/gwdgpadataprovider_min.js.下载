(function(){'use strict';var d;var g=function(){};goog.inherits(g,HTMLElement);d=g.prototype;d.createdCallback=function(){this.b=this.getAttribute("id")+"_data";window[this.b]||(window[this.b]={});this.a=null;this.c=[];this.f=!1;"function"!=typeof window.onAdData&&(this.f=!0,window.onAdData=this.onAdData_.bind(this))};
d.getData=function(){if(this.hasAttribute("is-custom-schema")){var a={};window.dynamicContent?a=window.dynamicContent:window.devDynamicContent&&(a=window.devDynamicContent);return a}if(this.f)return this.a;a=Enabler.getParameter("AdData");return this.a=this.processAdData_(a)};d.isDataLoaded=function(){return!0};d.addDataTransformer=function(a){this.c.push(a)};
d.onAdData_=function(a){if(a){a=this.a=this.processAdData_(a);if(a){var b=document.createEvent("CustomEvent");b.initCustomEvent("ready",!0,!0,a)}else b=document.createEvent("Event"),b.initEvent("ready",!0,!0);this.dispatchEvent(b)}};
d.processAdData_=function(a){if(!a)return null;a=a.google_template_data;if(!a)throw Error("Incorrect data format: missing google_template_data");if((a=a.adData)&&0<a.length){var b=this.toCanonicalForm_(a[0]);a=this.getAttribute("network-schema-id");this.hasAttribute("is-custom-schema")?window.dynamicContent=b:a&&416!=a&&311!=a?442==a&&k(b):l(b);this.c.forEach(function(a){"function"==typeof a&&a.call(this,b,this)}.bind(this));return b}throw Error("Incorrect data format: missing google_template_data.adData");
};d.toCanonicalForm_=function(a){var b={},e;for(e in a){var c=e.split("_");if(1==c.length)b[c[0]]=a[e];else{var f=c[0];var h=c[1];c=c[2];b[f]||(b[f]=[]);b[f][h]||(b[f][h]={});b[f][h][c]=a[e]}}return b};
var l=function(a){var b=a.Design;Array.isArray(b)&&1==b.length&&(a.Design=b[0]);b=a.Headline;Array.isArray(b)&&1==b.length&&(a.Headline=b[0])},k=function(a){var b=a.screenshots;if("undefined"==typeof b){b=[];for(var e,c=1;4>=c;c++)(e=a["screenshot"+c])&&b.push(e);a.screenshots=b}"undefined"==typeof a.appIcon&&(b=a.appIconStandard,a.appIcon=a.appIconHighRes||b)};g.prototype.attributeChangedCallback=function(){};document.registerElement("gwd-gpa-data-provider",{prototype:g.prototype});}).call(this);
